
<div class="card">
    <h2>Formulario de reservacion Eucaristias</h2>
</div>
<div class="ui-g ui-fluid">
    <form [formGroup]="addForm" (ngSubmit)="onSubmit()">
        <div class="card card-w-title">
            <div class="ui-g form-group">
                <div class="ui-g-12 ui-md-8">
                    <input type="text" required pInputText placeholder="Cedula">
                </div>
                <div class="ui-g-12 ui-md-4">
                    <p-button   label="Buscar" class="p-button-outlined" icon="pi pi-search" styleClass="ui-button-success"></p-button>
                </div>
                <div class="ui-g-12 ui-md-2">
                    <label for="textarea">Persona Solicitante:</label>
                </div>
                <div class="ui-g-12 ui-md-4">
                    <input maxlength="250" formControlName="inse_persona" name="inse_persona" id="inse_persona" type="text" pInputText disabled>
                    <div *ngIf="submitted && !!f.inse_persona.errors" class="invalid-feedback">
                        <div *ngIf="!!f.inse_persona.errors.required">Campo requerido</div>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-2">
                    <label for="input">Tipo de Eucaristía:</label>
                </div>
                <div class="ui-g-12 ui-md-4">
                    <p-dropdown id="inse_tiposeucaristias" name="inse_tiposeucaristias" formControlName="inse_tiposeucaristias"  [options]="inscripciones" [(ngModel)]="tipo" [filter]="true" optionLabel="aula_nombre"></p-dropdown>
                </div>
                <div class="ui-g-12 ui-md-2">
                    <label for="input">Fecha de Resgistro:</label>
                </div>
                <div class="ui-g-12 ui-md-4">
                    <p-calendar formControlName="inse_fecharegistro" name="inse_fecharegistro" id="inse_fecharegistro" [(ngModel)]="fec2" [showIcon]="true" class="form-control" placeholder="AAAA/MM/DD"></p-calendar>
                    <div *ngIf="submitted && !!f.inse_fecharegistro.errors" class="invalid-feedback">
                        <div *ngIf="!!f.inse_fecharegistro.errors.required">Campo requerido</div>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-2">
                <label for="input">Evento:</label>
                </div>
                <div class="ui-g-12 ui-md-4">
                    <p-dropdown id="inse_tiposeucaristias" name="inse_tiposeucaristias" formControlName="inse_tiposeucaristias"  [options]="inscripciones" [(ngModel)]="tipo" [filter]="true" optionLabel="aula_nombre" ></p-dropdown>
                </div>
                <div class="ui-g-12 ui-md-2">
                    <label for="input">Hora:</label>
                </div>
                <div class="ui-g-12 ui-md-4">
                    <input maxlength="250" disabled formControlName="inse_valorvoluntario" name="inse_valorvoluntario" id="inse_valorvoluntario" type="text" pInputText  class="form-control">
                    <div *ngIf="submitted && !!f.inse_valorvoluntario.errors" class="invalid-feedback">
                        <div *ngIf="!!f.inse_valorvoluntario.errors.required">Campo requerido</div>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-2">
                    <label for="input">Valor a Cancelar:</label>
                </div>
                <div class="ui-g-12 ui-md-4">
                    <input maxlength="250" disabled formControlName="inse_valorvoluntario" name="inse_valorvoluntario" id="inse_valorvoluntario" type="text" pInputText placeholder="valor" class="form-control">
                    <div *ngIf="submitted && !!f.inse_valorvoluntario.errors" class="invalid-feedback">
                        <div *ngIf="!!f.inse_valorvoluntario.errors.required">Campo requerido</div>
                    </div>
                </div>
                <br>
                <div class="ui-g-12">
                    <label for="input">Descripción de la Eucaristía:</label>
                    <br><br>
                    <textarea maxlength="5000" formControlName="inse_descripcionnombre" name="inse_descripcionnombre" id="inse_descripcionnombre" [rows]="4" [cols]="100" placeholder="Descripción sobre el registro de la Eucaristía." pInputTextarea autoResize="autoResize" class="form-control"></textarea>
                    <div *ngIf="submitted && !!f.inse_descripcionnombre.errors" class="invalid-feedback">
                        <div *ngIf="!!f.inse_descripcionnombre.errors.required">Campo requerido</div>
                    </div>
                </div>

                

                <div class="ui-g-12">
                    <div class="card card-w-title">
                        <h1>Calendario de la Parroquia San Joaquín</h1>
                        <p-fullCalendar [events]="events" [options]="fullcalendarOptions" ></p-fullCalendar>
                    </div>
                </div>
               

                <br>
                <br>             
                <div class="ui-g-12">
                    <p-button label="Guardar" icon = "pi pi-save" styleClass="ui-button-info"></p-button>
                </div>
                <br>
            </div>
        </div>
    </form>
    <p-table #dt1 [value]="reservacioneu" dataKey="cedula"
    [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="loading" styleClass="p-datatable-customers p-datatable-gridlines"
    [paginator]="true" currentPageReportTemplate="lista de personas con documentos"
    [globalFilterFields]="['cedula','nombre','apellido','fecha','tipo','descripcion','valor']">
    <ng-template pTemplate="caption">
        <div class="p-d-flex">
            <span class="p-input-icon-left p-ml-auto">
                <i class="pi pi-search"></i>
                <input pInputText type="text" (input)="dt1.filterGlobal($event.target.value, 'contains')" placeholder="Buscar" />
            </span>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                   Cedula
                  
                </div>
            </th>
            <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                    Nombre
                   
                </div>
            </th>
            <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                    Apellido 
                    
                </div>
            </th>
            
            <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                    Fecha
                    
                </div>
            </th>
            <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                    Tipo 
                   
                </div>
            </th>
            <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                   Descripcion 
                    
                </div>
            </th>
            
            <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                   Valor 
                    
                </div>
            </th>
            <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                    Opcion
                    
                </div>
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-reservacion>
        <tr>
            <td>
                {{reservacion.cedula}}
            </td>
            <td>
               {{reservacion.nombre}}
            </td>
            <td>
               {{reservacion.apellido}}
            </td>
            <td>
                {{reservacion.fecha}}
            </td>
            <td>
               {{reservacion.tipo}}
            </td>
            <td>
               {{reservacion.descripcion}}
            </td> 
            <td>
                {{reservacion.valor}}
             </td>               
            <td>
               
                <p-button icon="pi pi-trash"  styleClass="ui-button-danger"  label="Eliminar"></p-button>
       
            </td>       
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="7">No registros</td>
        </tr>
    </ng-template>
</p-table>
</div>